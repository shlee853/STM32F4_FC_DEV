/*
 * W25Qxx_Flash.h
 *
 *  Created on: Feb 26, 2023
 *      Author: swift
 */



#ifndef _W25QXX_FLASH_H
#define _W25QXX_FLASH_H

#include "main.h"

#define W25QXX_SPI_CHANNEL		SPI3

#define W25QXX_SPI_SCLK_PIN		LL_GPIO_PIN_10
#define W25QXX_SPI_SCLK_PORT		GPIOC
#define W25QXX_SPI_SCLK_CLK		LL_AHB1_GRP1_PERIPH_GPIOC

#define W25QXX_SPI_MISO_PIN		LL_GPIO_PIN_11
#define W25QXX_SPI_MISO_PORT		GPIOC
#define W25QXX_SPI_MISO_CLK		LL_AHB1_GRP1_PERIPH_GPIOC

#define W25QXX_SPI_MOSI_PIN		LL_GPIO_PIN_12
#define W25QXX_SPI_MOSI_PORT		GPIOC
#define W25QXX_SPI_MOSI_CLK		LL_AHB1_GRP1_PERIPH_GPIOC

#define W25QXX_SPI_CS_PIN		LL_GPIO_PIN_3
#define W25QXX_SPI_CS_PORT		GPIOB
#define W25QXX_SPI_CS_CLK		LL_AHB1_GRP1_PERIPH_GPIOB


//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////
#define CHIP_SELECT(W25QXX)		LL_GPIO_ResetOutputPin(W25QXX_SPI_CS_PORT, W25QXX_SPI_CS_PIN)
#define CHIP_DESELECT(W25QXX)		LL_GPIO_SetOutputPin(W25QXX_SPI_CS_PORT, W25QXX_SPI_CS_PIN)


#define W25QXX_DUMMY_BYTE 		0xA5
#define REG_CHIP_ERASE	 		0xC7
#define REG_WRITE_ENBALE 		0x06
#define REG_PAGE_PROGRAM 		0x02
#define REG_READ_DATA 			0x03
#define REG_ADDR_JEDEC_ID 		0x9F



//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////

/**
 * @brief ICM-20602 Register Map
 */




/**
 * @brief W25QXX structure definition.
 */


/**
 * @brief W25QXX structure definition.
 */


/**
 * @brief W25QXX function prototype definition.
 */

void W25QXX_GPIO_SPI_Initialization(void);
int W25QXX_Initialization(void);
int W25QXX_DataReady(void);

#endif
